buildscript {
  repositories {
    mavenCentral()
  }

  dependencies {
    classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.10"
  }
}

ext {
  vertxVersion = "4.3.8"
  coroutinesVersion = "1.6.4"
}

allprojects {
  apply plugin: 'kotlin'
  apply plugin: 'maven-publish'

  group 'co.selim.ebservice'
  version '4.0.0-RC1'

  java {
    withSourcesJar()
  }

  repositories {
    mavenCentral()
  }

  def javaVersion = 17

  java {
    toolchain {
      languageVersion = JavaLanguageVersion.of(javaVersion)
    }
  }

  kotlin {
    jvmToolchain(javaVersion)
  }
}

task('check11', type: Test) {
  javaLauncher = javaToolchains.launcherFor {
    languageVersion = JavaLanguageVersion.of(11)
  }
}

task('check17', type: Test) {
  javaLauncher = javaToolchains.launcherFor {
    languageVersion = JavaLanguageVersion.of(17)
  }
}
